<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Tutorial-Setup/LED-Strip" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">LED Strip | Rotorflight</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://github.com/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://github.com/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://github.com/docs/Tutorial-Setup/LED-Strip"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="LED Strip | Rotorflight"><meta data-rh="true" name="description" content="Rotorflight supports the use of addressable LED strips.  Addressable LED strips allow each LED in the strip to"><meta data-rh="true" property="og:description" content="Rotorflight supports the use of addressable LED strips.  Addressable LED strips allow each LED in the strip to"><link data-rh="true" rel="icon" href="/img/rffavicon.ico"><link data-rh="true" rel="canonical" href="https://github.com/docs/Tutorial-Setup/LED-Strip"><link data-rh="true" rel="alternate" href="https://github.com/docs/Tutorial-Setup/LED-Strip" hreflang="en"><link data-rh="true" rel="alternate" href="https://github.com/docs/Tutorial-Setup/LED-Strip" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Rotorflight RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Rotorflight Atom Feed">



<link rel="alternate" type="application/rss+xml" href="/announcement/rss.xml" title="Rotorflight RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/announcement/atom.xml" title="Rotorflight Atom Feed"><link rel="stylesheet" href="/assets/css/styles.17fb0446.css">
<link rel="preload" href="/assets/js/runtime~main.5732f278.js" as="script">
<link rel="preload" href="/assets/js/main.a27b5855.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#FFCC00;color:#000000" role="banner"><div class="content_knG7 announcementBarContent_xLdY">This website is a work in progress. It is a documentation tool for the upcoming release of ROTORFLIGHT 2</div></div><div class="rfNavbar navbar--fixed-top"><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/Rotorflight_outline.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/Rotorflight_outline_dark.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Rotorflight</b></a><a class="navbar__item navbar__link" href="/announcement">Announcements</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/Tutorial-Quickstart/Introduction">Tutorial</a><a class="navbar__item navbar__link" href="/docs/Manufacturers/intro">Manufacturers</a><a class="navbar__item navbar__link" href="/docs/Tuning/First-Flight-Filter-Tuning">Tuning</a><a class="navbar__item navbar__link" href="/docs/Developers/intro">Developers</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/rotorflight" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_MW0i colorModeToggle_DEke"><button class="clean-btn toggleButton_yw5v toggleButtonDisabled_BJd7" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_SFTY"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_ekgs"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav></div><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Tutorial-Quickstart/Introduction">Quickstart</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/Tutorial-Setup/Help-Common-Questions">Setup</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Tutorial-Setup/Help-Common-Questions">Help - Frequent questions?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Tutorial-Setup/Backup-and-restore">Backup and restore</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Tutorial-Setup/Flashing-the-firmware">Flashing the firmware</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Tutorial-Setup/Remapping">Remapping</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Tutorial-Setup/Configuration">Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Tutorial-Setup/Receiver">Receiver</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Tutorial-Setup/Servos">Servos</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Tutorial-Setup/Mixer">Mixer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Tutorial-Setup/Motor-and-Esc">Motor and ESC</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Tutorial-Setup/Rpm-Measurement">RPM Measurement</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Tutorial-Setup/Governor">Governor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Tutorial-Setup/ESC-Telemetry">ESC Telemetry</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Tutorial-Setup/RPM-Filters">RPM Filters</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Tutorial-Setup/LED-Strip">LED Strip</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Tutorial-Setup/Modes">Modes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Tutorial-Setup/Rates">Rates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Tutorial-Setup/Profiles">Profiles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Tutorial-Setup/Adjustments">Adjustments</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Tutorial-Setup/LUA-Scripts">LUA Scripts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Tutorial-Setup/Beepers">Beepers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Tutorial-Setup/Blackbox">Blackbox logging</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Tutorial-Setup/Power">Power</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/Tutorial-Walkthroughs/Profile-switching-example">Walkthroughs</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Setup</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">LED Strip</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>LED Strip</h1><p>Rotorflight supports the use of addressable LED strips.  Addressable LED strips allow each LED in the strip to
be programmed with a unique and independent color.  This is far more advanced than the normal RGB strips which
require that all the LEDs in the strip show the same color.</p><p>Addressable LED strips can be used to show information from the flight controller system, the current implementation
supports the following:</p><ul><li>Up to 32 LEDs.</li><li>Indicators showing pitch/roll stick positions.</li><li>Heading/Orientation lights.</li><li>Flight mode specific color schemes.</li><li>Low battery warning.</li><li>AUX operated on/off switch</li></ul><p>The function and orientation configuration is fixed for now but later it should be able to be set via the UI or CLI..</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="supported-hardware">Supported hardware<a href="#supported-hardware" class="hash-link" aria-label="Direct link to Supported hardware" title="Direct link to Supported hardware">​</a></h2><p>Only strips of 32 WS2811/WS2812 LEDs are supported currently.  If the strip is longer than 32 LEDs it does not matter,
but only the first 32 are used.</p><p>WS2812 LEDs require an 800khz signal and precise timings and thus requires the use of a dedicated hardware timer.</p><p>Note: Not all WS2812 ICs use the same timings, some batches use different timings.  </p><p>It could be possible to be able to specify the timings required via CLI if users request it.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tested-hardware">Tested Hardware<a href="#tested-hardware" class="hash-link" aria-label="Direct link to Tested Hardware" title="Direct link to Tested Hardware">​</a></h3><ul><li><a href="https://www.adafruit.com/products/2226" target="_blank" rel="noopener noreferrer">Adafruit NeoPixel Jewel 7</a> (preliminary testing)<ul><li>Measured current consumption in all white mode ~ 350 mA.</li><li>Fits well under motors on mini 250 quads.</li></ul></li><li><a href="https://www.adafruit.com/products/1426" target="_blank" rel="noopener noreferrer">Adafruit NeoPixel Stick</a> (works well)<ul><li>Measured current consumption in all white mode ~ 350 mA.</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="connections">Connections<a href="#connections" class="hash-link" aria-label="Direct link to Connections" title="Direct link to Connections">​</a></h2><p>WS2812 LED strips generally require a single data line, 5V and GND.</p><p>WS2812 LEDs on full brightness can consume quite a bit of current.  It is recommended to verify the current draw and ensure your 5V power source can cope with the load.
uses.  e.g. ESC1/BEC1 -&gt; FC, ESC2/BEC2 -&gt; LED strip.   It&#x27;s also possible to power one half of the strip from one BEC and the other half</p><p>LED Strip pin should be on a separate timer.</p><p>If you have LEDs that are intermittent, flicker or show the wrong colors then drop the VIN to less than 4.7v, e.g. by using an inline
diode on the VIN to the LED strip. The problem occurs because of the difference in voltage between the data signal and the power
signal.  The WS2811 LED&#x27;s require the data signal (Din) to be between 0.3 <em> Vin (Max) and 0.7 </em> VIN (Min) to register valid logic
low/high signals.  The LED pin on the CPU will always be between 0v to ~3.3v, so the Vin should be 4.7v (3.3v / 0.7 = 4.71v).
Some LEDs are more tolerant of this than others.</p><p>The datasheet can be found here: <a href="http://www.adafruit.com/datasheets/WS2812.pdf" target="_blank" rel="noopener noreferrer">WS2812</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration">Configuration<a href="#configuration" class="hash-link" aria-label="Direct link to Configuration" title="Direct link to Configuration">​</a></h2><p>The led strip feature can be configured via the GUI</p><p>GUI:
Enable the Led Strip feature via the GUI under setup.</p><p>Configure the leds from the Led Strip tab in the Rotorflight GUI.
First setup how the led&#x27;s are laid out so that you can visualize it later as you configure and so the flight controller knows how many led&#x27;s there are available.</p><p>There is a step by step guide on how to use the GUI to configure the Led Strip feature using the GUI <a href="https://oscarliang.com/setup-RGB-LED-cleanflight/" target="_blank" rel="noopener noreferrer">Setting up RGB LED</a> which was published early 2015 by Oscar Liang which may or may not be up-to-date by the time you read this.</p><p>CLI:
Enable the <code>LED_STRIP</code> feature via the cli:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">feature LED_STRIP</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you enable LED_STRIP feature and the feature is turned off again after a reboot then check your config does not conflict with other features, as above.</p><p>Configure the LEDs using the <code>led</code> command.</p><p>The <code>led</code> command takes either zero or two arguments - an zero-based led number and a sequence which indicates pair of coordinates, direction flags and mode flags and a color.</p><p>If used with zero arguments it prints out the led configuration which can be copied for future reference.</p><p>Each led is configured using the following template: <code>x,y:ddd:mmm:cc</code></p><p><code>x</code> and <code>y</code> are grid coordinates of a 0 based 16x16 grid, north west is 0,0, south east is 15,15
<code>ddd</code> specifies the directions, since an led can face in any direction it can have multiple directions.  Directions are:</p><p> <code>N</code> - North
<code>E</code> - East
<code>S</code> - South
<code>W</code> - West
<code>U</code> - Up
<code>D</code> - Down</p><p>For instance, an LED that faces South-east at a 45 degree downwards angle could be configured as <code>SED</code>.</p><p>Note: It is perfectly possible to configure an LED to have all directions <code>NESWUD</code> but probably doesn&#x27;t make sense.</p><p><code>mmm</code> specifies the modes that should be applied an LED.  Modes are:</p><ul><li><code>W</code> - <code>W</code>warnings.</li><li><code>F</code> - <code>F</code>light mode &amp; Orientation</li><li><code>I</code> - <code>I</code>ndicator.</li><li><code>A</code> - <code>A</code>rmed state.</li><li><code>T</code> - <code>T</code>hrust state.</li><li><code>R</code> - <code>R</code>ing thrust state.</li><li><code>C</code> - <code>C</code>olor.</li></ul><p><code>cc</code> specifies the color number (0 based index).</p><p>Example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">led 0 0,15:SD:IAW:0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">led 1 15,0:ND:IAW:0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">led 2 0,0:ND:IAW:0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">led 3 0,15:SD:IAW:0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">led 4 7,7::C:1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">led 5 8,8::C:2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To erase an led, and to mark the end of the chain, use <code>0,0::</code> as the second argument, like this:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">led 4 0,0:::</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>It is best to erase all LEDs that you do not have connected.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="modes">Modes<a href="#modes" class="hash-link" aria-label="Direct link to Modes" title="Direct link to Modes">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="warning">Warning<a href="#warning" class="hash-link" aria-label="Direct link to Warning" title="Direct link to Warning">​</a></h4><p>This mode simply uses the LEDs to flash when warnings occur.</p><table><thead><tr><th>Warning</th><th>LED Pattern</th><th>Notes</th></tr></thead><tbody><tr><td>Arm-lock enabled</td><td>flash between green and off</td><td>occurs calibration or when unarmed and the aircraft is tilted too much</td></tr><tr><td>Low Battery</td><td>flash red and off</td><td>battery monitoring must be enabled.  May trigger temporarily under high-throttle due to voltage drop</td></tr><tr><td>Failsafe</td><td>flash between light blue and yellow</td><td>Failsafe must be enabled</td></tr></tbody></table><p>Flash patterns appear in order, so that it&#x27;s clear which warnings are enabled.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="flight-mode--orientation">Flight Mode &amp; Orientation<a href="#flight-mode--orientation" class="hash-link" aria-label="Direct link to Flight Mode &amp; Orientation" title="Direct link to Flight Mode &amp; Orientation">​</a></h4><p>This mode shows the flight mode and orientation.</p><p>When flight modes are active then the LEDs are updated to show different colors depending on the mode, placement on the grid and direction.</p><p>LEDs are set in a specific order:</p><ul><li>LEDs that marked as facing up or down.</li><li>LEDs that marked as facing west or east AND are on the west or east side of the grid.</li><li>LEDs that marked as facing north or south AND are on the north or south side of the grid.</li></ul><p>That is, south facing LEDs have priority.</p><p>The mapping between modes led placement and colors is currently fixed and cannot be changed.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="indicator">Indicator<a href="#indicator" class="hash-link" aria-label="Direct link to Indicator" title="Direct link to Indicator">​</a></h4><p>This mode flashes LEDs that correspond to roll and pitch stick positions.  i.e.  they indicate the direction the craft is going to turn.</p><table><thead><tr><th>Mode</th><th>Direction</th><th>LED Color</th></tr></thead><tbody><tr><td>Orientation</td><td>North</td><td>WHITE</td></tr><tr><td>Orientation</td><td>East</td><td>DARK VIOLET</td></tr><tr><td>Orientation</td><td>South</td><td>RED</td></tr><tr><td>Orientation</td><td>West</td><td>DEEP PINK</td></tr><tr><td>Orientation</td><td>Up</td><td>BLUE</td></tr><tr><td>Orientation</td><td>Down</td><td>ORANGE</td></tr><tr><td></td><td></td><td></td></tr><tr><td>Head Free</td><td>North</td><td>LIME GREEN</td></tr><tr><td>Head Free</td><td>East</td><td>DARK VIOLET</td></tr><tr><td>Head Free</td><td>South</td><td>ORANGE</td></tr><tr><td>Head Free</td><td>West</td><td>DEEP PINK</td></tr><tr><td>Head Free</td><td>Up</td><td>BLUE</td></tr><tr><td>Head Free</td><td>Down</td><td>ORANGE</td></tr><tr><td></td><td></td><td></td></tr><tr><td>Horizon</td><td>North</td><td>BLUE</td></tr><tr><td>Horizon</td><td>East</td><td>DARK VIOLET</td></tr><tr><td>Horizon</td><td>South</td><td>YELLOW</td></tr><tr><td>Horizon</td><td>West</td><td>DEEP PINK</td></tr><tr><td>Horizon</td><td>Up</td><td>BLUE</td></tr><tr><td>Horizon</td><td>Down</td><td>ORANGE</td></tr><tr><td></td><td></td><td></td></tr><tr><td>Angle</td><td>North</td><td>CYAN</td></tr><tr><td>Angle</td><td>East</td><td>DARK VIOLET</td></tr><tr><td>Angle</td><td>South</td><td>YELLOW</td></tr><tr><td>Angle</td><td>West</td><td>DEEP PINK</td></tr><tr><td>Angle</td><td>Up</td><td>BLUE</td></tr><tr><td>Angle</td><td>Down</td><td>ORANGE</td></tr><tr><td></td><td></td><td></td></tr><tr><td>Mag</td><td>North</td><td>MINT GREEN</td></tr><tr><td>Mag</td><td>East</td><td>DARK VIOLET</td></tr><tr><td>Mag</td><td>South</td><td>ORANGE</td></tr><tr><td>Mag</td><td>West</td><td>DEEP PINK</td></tr><tr><td>Mag</td><td>Up</td><td>BLUE</td></tr><tr><td>Mag</td><td>Down</td><td>ORANGE</td></tr><tr><td></td><td></td><td></td></tr><tr><td>Baro</td><td>North</td><td>LIGHT BLUE</td></tr><tr><td>Baro</td><td>East</td><td>DARK VIOLET</td></tr><tr><td>Baro</td><td>South</td><td>RED</td></tr><tr><td>Baro</td><td>West</td><td>DEEP PINK</td></tr><tr><td>Baro</td><td>Up</td><td>BLUE</td></tr><tr><td>Baro</td><td>Down</td><td>ORANGE</td></tr></tbody></table><h4 class="anchor anchorWithStickyNavbar_LWe7" id="armed-state">Armed state<a href="#armed-state" class="hash-link" aria-label="Direct link to Armed state" title="Direct link to Armed state">​</a></h4><p>This mode toggles LEDs between green and blue when disarmed and armed, respectively.</p><p>Note: Armed State cannot be used with Flight Mode.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="thrust-state">Thrust state<a href="#thrust-state" class="hash-link" aria-label="Direct link to Thrust state" title="Direct link to Thrust state">​</a></h4><p>This mode fades the LED current LED color to the previous/next color in the HSB color space depending on throttle stick position.  When the
throttle is in the middle position the color is unaffected, thus it can be mixed with orientation colors to indicate orientation and throttle at
the same time.  Thrust should normally be combined with Color or Mode/Orientation.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="thrust-ring-state">Thrust ring state<a href="#thrust-ring-state" class="hash-link" aria-label="Direct link to Thrust ring state" title="Direct link to Thrust ring state">​</a></h4><p>This mode is allows you to use a 12, 16 or 24 leds ring (e.g. NeoPixel ring) for an afterburner effect. When armed the leds use the following sequences: 2 On, 4 Off, 2 On, 4 Off, and so on.  The light pattern rotates clockwise as throttle increases. </p><p>A better effect is achieved when LEDs configured for thrust ring have no other functions.</p><p>LED direction and X/Y positions are irrelevant for thrust ring LED state.  The order of the LEDs that have the state determines how the LED behaves.</p><p>Each LED of the ring can be a different color. The color can be selected between the 16 colors availables.</p><p>For example, led 0 is set as a <code>R</code>ing thrust state led in color 13 as follow. </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">led 0 2,2::R:13</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>LED strips and rings can be combined.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="solid-color">Solid Color<a href="#solid-color" class="hash-link" aria-label="Direct link to Solid Color" title="Direct link to Solid Color">​</a></h4><p>The mode allows you to set an LED to be permanently on and set to a specific color.</p><p>x,y position and directions are ignored when using this mode.</p><p>Other modes will override or combine with the color mode.</p><p>For example, to set led 0 to always use color 10 you would issue this command. </p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">led 0 0,0::C:10</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="colors">Colors<a href="#colors" class="hash-link" aria-label="Direct link to Colors" title="Direct link to Colors">​</a></h3><p>Colors can be configured using the cli <code>color</code> command.</p><p>The <code>color</code> command takes either zero or two arguments - an zero-based color number and a sequence which indicates pair of hue, saturation and value (HSV).</p><p>See <a href="http://en.wikipedia.org/wiki/HSL_and_HSV" target="_blank" rel="noopener noreferrer">HSL and HSV</a></p><p>If used with zero arguments it prints out the color configuration which can be copied for future reference.</p><p>The default color configuration is as follows:</p><table><thead><tr><th>Index</th><th>Color</th></tr></thead><tbody><tr><td>0</td><td>black</td></tr><tr><td>1</td><td>white</td></tr><tr><td>2</td><td>red</td></tr><tr><td>3</td><td>orange</td></tr><tr><td>4</td><td>yellow</td></tr><tr><td>5</td><td>lime green</td></tr><tr><td>6</td><td>green</td></tr><tr><td>7</td><td>mint green</td></tr><tr><td>8</td><td>cyan</td></tr><tr><td>9</td><td>light blue</td></tr><tr><td>10</td><td>blue</td></tr><tr><td>11</td><td>dark violet</td></tr><tr><td>12</td><td>magenta</td></tr><tr><td>13</td><td>deep pink</td></tr><tr><td>14</td><td>black</td></tr><tr><td>15</td><td>black</td></tr></tbody></table><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">color 0 0,0,0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">color 1 0,255,255</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">color 2 0,0,255</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">color 3 30,0,255</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">color 4 60,0,255</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">color 5 90,0,255</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">color 6 120,0,255</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">color 7 150,0,255</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">color 8 180,0,255</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">color 9 210,0,255</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">color 10 240,0,255</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">color 11 270,0,255</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">color 12 300,0,255</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">color 13 330,0,255</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">color 14 0,0,0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">color 15 0,0,0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting">​</a></h2><p>On initial power up the LEDs on the strip will be set to WHITE.  This means you can attach a current meter to verify
the current draw if your measurement equipment is fast enough.  Most 5050 LEDs will draw 0.3 Watts a piece.
This also means that you can make sure that each R,G and B LED in each LED module on the strip is also functioning.</p><p>After a short delay the LEDs will show the unarmed color sequence and or low-battery warning sequence.</p><p>Also check that the feature <code>LED_STRIP</code> was correctly enabled and that it does not conflict with other features, as above.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/pkaig/Rotorflight-Docs/tree/main/docs/Tutorial-Setup/LED-Strip.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Tutorial-Setup/RPM-Filters"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">RPM Filters</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Tutorial-Setup/Modes"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Modes</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#supported-hardware" class="table-of-contents__link toc-highlight">Supported hardware</a><ul><li><a href="#tested-hardware" class="table-of-contents__link toc-highlight">Tested Hardware</a></li></ul></li><li><a href="#connections" class="table-of-contents__link toc-highlight">Connections</a></li><li><a href="#configuration" class="table-of-contents__link toc-highlight">Configuration</a><ul><li><a href="#modes" class="table-of-contents__link toc-highlight">Modes</a></li><li><a href="#colors" class="table-of-contents__link toc-highlight">Colors</a></li></ul></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Tutorial</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Manufacturers/intro">Manufacturers</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Tuning/Tuning-description">Tuning</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Developers/intro">Developers</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/6QUySXdEvd" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.rcgroups.com/forums/showthread.php?4000345-Rotorflight-Flight-Control-%28FBL%29-Software-Official-discussion" target="_blank" rel="noopener noreferrer" class="footer__link-item">RC Groups<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Video Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/announcement">Announcements</a></li><li class="footer__item"><a href="https://github.com/rotorflight" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/Rotorflight_outline.png" class="themedImage_ToTc themedImage--light_HNdA footer__logo" width="90" height="50"><img src="/img/Rotorflight_outline.png" class="themedImage_ToTc themedImage--dark_i4oU footer__logo" width="90" height="50"></div><div class="footer__copyright">Copyright © 2023 Team Rotorflight. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.5732f278.js"></script>
<script src="/assets/js/main.a27b5855.js"></script>
</body>
</html>