"use strict";(self.webpackChunkrotorflight_docs=self.webpackChunkrotorflight_docs||[]).push([[7977],{3905:(t,e,n)=>{n.d(e,{Zo:()=>u,kt:()=>h});var a=n(67294);function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e){if(null==t)return{};var n,a,i=function(t,e){if(null==t)return{};var n,a,i={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var s=a.createContext({}),d=function(t){var e=a.useContext(s),n=e;return t&&(n="function"==typeof t?t(e):l(l({},e),t)),n},u=function(t){var e=d(t.components);return a.createElement(s.Provider,{value:e},t.children)},p="mdxType",c={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},m=a.forwardRef((function(t,e){var n=t.components,i=t.mdxType,r=t.originalType,s=t.parentName,u=o(t,["components","mdxType","originalType","parentName"]),p=d(n),m=i,h=p["".concat(s,".").concat(m)]||p[m]||c[m]||r;return n?a.createElement(h,l(l({ref:e},u),{},{components:n})):a.createElement(h,l({ref:e},u))}));function h(t,e){var n=arguments,i=e&&e.mdxType;if("string"==typeof t||i){var r=n.length,l=new Array(r);l[0]=m;var o={};for(var s in e)hasOwnProperty.call(e,s)&&(o[s]=e[s]);o.originalType=t,o[p]="string"==typeof t?t:i,l[1]=o;for(var d=2;d<r;d++)l[d]=n[d];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},34175:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>s,contentTitle:()=>l,default:()=>c,frontMatter:()=>r,metadata:()=>o,toc:()=>d});var a=n(87462),i=(n(67294),n(3905));const r={sidebar_position:4},l="Using Stability Modes",o={unversionedId:"Tutorial-Walkthroughs/Using-StabilityModes",id:"Tutorial-Walkthroughs/Using-StabilityModes",title:"Using Stability Modes",description:"Purpose",source:"@site/docs/Tutorial-Walkthroughs/Using-StabilityModes.md",sourceDirName:"Tutorial-Walkthroughs",slug:"/Tutorial-Walkthroughs/Using-StabilityModes",permalink:"/docs/Tutorial-Walkthroughs/Using-StabilityModes",draft:!1,editUrl:"https://github.com/pkaig/Rotorflight-Docs/tree/main/docs/Tutorial-Walkthroughs/Using-StabilityModes.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Tuning using Adjustments",permalink:"/docs/Tutorial-Walkthroughs/Tuning-using-Adjustments"},next:{title:"Flashing Blheli_S ESC to Bluejay firmware",permalink:"/docs/Tutorial-Walkthroughs/Blheli_s-to-Bluejay"}},s={},d=[{value:"Purpose",id:"purpose",level:2},{value:"Aim",id:"aim",level:2},{value:"Configure the Tx",id:"configure-the-tx",level:3},{value:"Configure flight controller",id:"configure-flight-controller",level:3},{value:"Calibrating stability modes",id:"calibrating-stability-modes",level:3},{value:"## Warning ## - do not use your transmitter trims!!",id:"-warning----do-not-use-your-transmitter-trims",level:4},{value:"Calibration using Lua Scripts",id:"calibration-using-lua-scripts",level:4},{value:"Calibration using Stick Commands",id:"calibration-using-stick-commands",level:4}],u={toc:d},p="wrapper";function c(t){let{components:e,...r}=t;return(0,i.kt)(p,(0,a.Z)({},u,r,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"using-stability-modes"},"Using Stability Modes"),(0,i.kt)("h2",{id:"purpose"},"Purpose"),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"  6G modes provide self stabilization/leveling of the helicopter when the sticks are moved to the centre. This is the opposite to the standard Acro mode (used for aerobatics and 3D) which will not self level after sticks are centered and thus is inherently unstable. These modes are generally used for beginners or those wanting more of a drone feel to their helicopter. 6G modes do not provide position fixing as found with GPS systems so the heli will drift around in the wind.")),(0,i.kt)("h2",{id:"aim"},"Aim"),(0,i.kt)("p",null,"In this example we will configure a 3 position switch (SwC) to select between Stability modes. With the SwC fully down we will have ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("em",{parentName:"strong"},"Acro"))," mode, SwC in the centre will be ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("em",{parentName:"strong"},"Horizon"))," Mode and in the fully up position we will enable ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("em",{parentName:"strong"},"Angle"))," mode.    "),(0,i.kt)("h3",{id:"configure-the-tx"},"Configure the Tx"),(0,i.kt)("p",null,"We need to assign a spare channel to your 3 position switch (SwC) (can be any channel or switch). "),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"NOTE")," This example shows the process for EdgeTx (same for OpenTX) but is really the same process for any transmitter."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Step 1:")," Assign Ch8 to the SwC in the ",(0,i.kt)("strong",{parentName:"p"},"Mixers")," tab"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Stability Mode",src:n(64097).Z,width:"949",height:"450"})),(0,i.kt)("h3",{id:"configure-flight-controller"},"Configure flight controller"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Step 2:")," looking at the channels in the ",(0,i.kt)("strong",{parentName:"p"},"receiver")," tab we can see that Aux3 is the eight channel. This matches our TX assignment from step 1.  Confirm the 3 position switch changes the value seen on Aux3,  "),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Stability Mode",src:n(4893).Z,width:"1138",height:"420"})," "),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Step 3:")," "),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Go to the ",(0,i.kt)("strong",{parentName:"li"},"Modes")," tab. Disable hide unused modes if nothing is visible."),(0,i.kt)("li",{parentName:"ul"},"Chose the Horizon Mode. Enter AUX3 in the channel and adjust the range to cover the middle section of the control channel as shown in the picture below. "),(0,i.kt)("li",{parentName:"ul"},"Chose the Angle Mode. Enter Aux3 in the channel and adjust the range to cover the top section of the control range as shown in the pic below.")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Stability Mode",src:n(94189).Z,width:"1122",height:"482"})),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Step 4:")," Test and confirm the switch position enables and disables modes as required These values are added to the Profile so will result in (e.g. SwC down = No mode active = Acro, SwC middle = Horizon Mode, SwC up = Angle Mode).     "),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Stability Mode",src:n(18879).Z,width:"1576",height:"636"})),(0,i.kt)("h3",{id:"calibrating-stability-modes"},"Calibrating stability modes"),(0,i.kt)("h4",{id:"-warning----do-not-use-your-transmitter-trims"},"## Warning ## - do not use your transmitter trims!!"),(0,i.kt)("p",null,"Your Roll, Pitch and Yaw should all be trimmed to the stick centre configured in the receiver tab. This will be 1500 or 1520 depending on your radio."),(0,i.kt)("p",null,"Stability modes will try to stabilize to the calibrated flight controller level. This is rarely perfectly aligned with the actual helicopters attitude where there is no drift (least drift... there will always be some due to wind etc). In order to calibrate this in-flight we have 2 methods:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Using the ",(0,i.kt)("a",{parentName:"li",href:"/docs/Tutorial-Setup/LUA-Scripts"},"Rotorflight Lua Scripts")),(0,i.kt)("li",{parentName:"ul"},"Stick controls")),(0,i.kt)("p",null,"Note that it's also possible to adjust accelerometer trim values in the ",(0,i.kt)("em",{parentName:"p"},"Configuration")," tab of the Configurator."),(0,i.kt)("h4",{id:"calibration-using-lua-scripts"},"Calibration using Lua Scripts"),(0,i.kt)("p",null,"Select ",(0,i.kt)("em",{parentName:"p"},"Accelerometer Trims")," from the Rotorflight main menu. Test fly the heli tail-in in either Angle or Horizon mode, with sticks at centre. If the heli drifts left, increase roll trim. If it drifts backwards, increase pitch trim. Each time you make a change to the trims long press the wheel/roller. The Page menu should now pop up. Select Save page. Adjust trims until the heli flies hands off without any pronounced drift in any direction.    "),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Stability Mode",src:n(91861).Z,width:"1013",height:"272"})," "),(0,i.kt)("h4",{id:"calibration-using-stick-commands"},"Calibration using Stick Commands"),(0,i.kt)("p",null,"Standard 'Betaflight' stick commands work with Rotorflight. The accelerometer trims can be calibrated using these commands. To do this you must have ",(0,i.kt)("strong",{parentName:"p"},"Angle or Horizon")," Modes enabled."),(0,i.kt)("p",null,"You will also need to enable this in the CLI",(0,i.kt)("br",{parentName:"p"}),"\n",(0,i.kt)("inlineCode",{parentName:"p"},"set enable_stick_commands = ON")),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Function"),(0,i.kt)("th",{parentName:"tr",align:null},"Throttle"),(0,i.kt)("th",{parentName:"tr",align:null},"Yaw"),(0,i.kt)("th",{parentName:"tr",align:null},"Pitch"),(0,i.kt)("th",{parentName:"tr",align:null},"Roll"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Calibrate Gyro"),(0,i.kt)("td",{parentName:"tr",align:null},"LOW"),(0,i.kt)("td",{parentName:"tr",align:null},"LOW"),(0,i.kt)("td",{parentName:"tr",align:null},"LOW"),(0,i.kt)("td",{parentName:"tr",align:null},"CENTER")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Calibrate Acc"),(0,i.kt)("td",{parentName:"tr",align:null},"HIGH"),(0,i.kt)("td",{parentName:"tr",align:null},"LOW"),(0,i.kt)("td",{parentName:"tr",align:null},"LOW"),(0,i.kt)("td",{parentName:"tr",align:null},"CENTER")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Trim Acc Left"),(0,i.kt)("td",{parentName:"tr",align:null},"HIGH"),(0,i.kt)("td",{parentName:"tr",align:null},"CENTER"),(0,i.kt)("td",{parentName:"tr",align:null},"CENTER"),(0,i.kt)("td",{parentName:"tr",align:null},"LOW")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Trim Acc Right"),(0,i.kt)("td",{parentName:"tr",align:null},"HIGH"),(0,i.kt)("td",{parentName:"tr",align:null},"CENTER"),(0,i.kt)("td",{parentName:"tr",align:null},"CENTER"),(0,i.kt)("td",{parentName:"tr",align:null},"HIGH")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Trim Acc Forwards"),(0,i.kt)("td",{parentName:"tr",align:null},"HIGH"),(0,i.kt)("td",{parentName:"tr",align:null},"CENTER"),(0,i.kt)("td",{parentName:"tr",align:null},"HIGH"),(0,i.kt)("td",{parentName:"tr",align:null},"CENTER")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Trim Acc Backwards"),(0,i.kt)("td",{parentName:"tr",align:null},"HIGH"),(0,i.kt)("td",{parentName:"tr",align:null},"CENTER"),(0,i.kt)("td",{parentName:"tr",align:null},"LOW"),(0,i.kt)("td",{parentName:"tr",align:null},"CENTER")))),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Stick Commands",src:n(54852).Z,width:"1376",height:"491"})),(0,i.kt)("p",null,"For more details of the stick commands. See the ",(0,i.kt)("a",{parentName:"p",href:"https://betaflight.com/docs/development/Controls#Yaw%20Control%E2%80%8B"},"Betaflight Wiki here.")))}c.isMDXComponent=!0},64097:(t,e,n)=>{n.d(e,{Z:()=>a});const a=n.p+"assets/images/Stability_1-ffa682b3fa035b7df24959c066740a6f.png"},4893:(t,e,n)=>{n.d(e,{Z:()=>a});const a=n.p+"assets/images/Stability_2-036b7c5d0fb74b4a10c69db3c24dfe8f.png"},94189:(t,e,n)=>{n.d(e,{Z:()=>a});const a=n.p+"assets/images/Stability_3-f307411be80469651e0a4a30d28dd02b.png"},18879:(t,e,n)=>{n.d(e,{Z:()=>a});const a=n.p+"assets/images/Stability_4-b1a098cc439e2b317e1c96686ad2c1d8.png"},91861:(t,e,n)=>{n.d(e,{Z:()=>a});const a=n.p+"assets/images/Stability_5-7481c6e6d5f19af31252f51f8cc8abac.png"},54852:(t,e,n)=>{n.d(e,{Z:()=>a});const a=n.p+"assets/images/stick-commands-e499ed6a74ab2297e634ca5ccc8fddf1.png"}}]);