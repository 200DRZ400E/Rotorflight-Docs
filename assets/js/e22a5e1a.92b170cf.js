"use strict";(self.webpackChunkrotorflight_docs=self.webpackChunkrotorflight_docs||[]).push([[4898],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>h});var a=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var p=a.createContext({}),s=function(e){var t=a.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},u=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,l=e.originalType,p=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),m=s(r),c=n,h=m["".concat(p,".").concat(c)]||m[c]||d[c]||l;return r?a.createElement(h,o(o({ref:t},u),{},{components:r})):a.createElement(h,o({ref:t},u))}));function h(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=r.length,o=new Array(l);o[0]=c;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i[m]="string"==typeof e?e:n,o[1]=i;for(var s=2;s<l;s++)o[s]=r[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,r)}c.displayName="MDXCreateElement"},78477:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>d,frontMatter:()=>l,metadata:()=>i,toc:()=>s});var a=r(87462),n=(r(67294),r(3905));const l={sidebar_position:110},o="ESC Telemetry",i={unversionedId:"Tutorial-Setup/ESC-Telemetry",id:"Tutorial-Setup/ESC-Telemetry",title:"ESC Telemetry",description:"The purpose of ESC telemetry is to provide a method of reading the values provided by the ESC. These are things such as RPM, Temperature, Voltage, Current and mAh consumed. This is accomplished by connecting the ESC telemetry wire to the flight controller with a spare UART.",source:"@site/docs/Tutorial-Setup/ESC-Telemetry.md",sourceDirName:"Tutorial-Setup",slug:"/Tutorial-Setup/ESC-Telemetry",permalink:"/docs/Tutorial-Setup/ESC-Telemetry",draft:!1,editUrl:"https://github.com/pkaig/Rotorflight-Docs/tree/main/docs/Tutorial-Setup/ESC-Telemetry.md",tags:[],version:"current",sidebarPosition:110,frontMatter:{sidebar_position:110},sidebar:"tutorialSidebar",previous:{title:"Governor",permalink:"/docs/Tutorial-Setup/Governor"},next:{title:"Servos",permalink:"/docs/Tutorial-Setup/Servos"}},p={},s=[{value:"Select Serial Port",id:"select-serial-port",level:3},{value:"Enable the feature",id:"enable-the-feature",level:3},{value:"Half Duplex (to be updated)",id:"half-duplex-to-be-updated",level:3},{value:"Set the Protocol",id:"set-the-protocol",level:3},{value:"Power Config",id:"power-config",level:3}],u={toc:s},m="wrapper";function d(e){let{components:t,...l}=e;return(0,n.kt)(m,(0,a.Z)({},u,l,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"esc-telemetry"},"ESC Telemetry"),(0,n.kt)("admonition",{type:"info"},(0,n.kt)("p",{parentName:"admonition"},"The purpose of ESC telemetry is to provide a method of reading the values provided by the ESC. These are things such as RPM, Temperature, Voltage, Current and mAh consumed. This is accomplished by connecting the ESC telemetry wire to the flight controller with a spare UART. "),(0,n.kt)("p",{parentName:"admonition"},"ESC Telemetry currently supported are :  "),(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},"BLheli  "),(0,n.kt)("li",{parentName:"ul"},"HOBBYWING Platinum PRO V4, V4.1,& V5"),(0,n.kt)("li",{parentName:"ul"},"HOBBYWING FLYFUN V5 "),(0,n.kt)("li",{parentName:"ul"},"KONTRONIK  "),(0,n.kt)("li",{parentName:"ul"},"SCORPION"),(0,n.kt)("li",{parentName:"ul"},"OMPHOBBY"),(0,n.kt)("li",{parentName:"ul"},"ZTW"),(0,n.kt)("li",{parentName:"ul"},"APD (HV Pro UART telemetry)"))),(0,n.kt)("h3",{id:"select-serial-port"},"Select Serial Port"),(0,n.kt)("p",null,"The ESC telemetry pin TX needs to be connected to a spare UART RX. Select the UART from the Configuration page. "),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"ESC Telemetry",src:r(48759).Z,width:"802",height:"341"})),(0,n.kt)("h3",{id:"enable-the-feature"},"Enable the feature"),(0,n.kt)("p",null,"Select ",(0,n.kt)("strong",{parentName:"p"},"ESC_SENSOR")," from the features to enable reading from the ESC."),(0,n.kt)("p",null,"If you wish these values to be returned to the Tx you will also have to select the ",(0,n.kt)("strong",{parentName:"p"},"TELEMETRY")," and have a telemetry capable Receiver.  "),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"ESC Telemetry",src:r(21476).Z,width:"802",height:"378"})),(0,n.kt)("h3",{id:"half-duplex-to-be-updated"},"Half Duplex (to be updated)"),(0,n.kt)("p",null,"The Telemetry wire can be connected to the UART TX (as opposed to the RX) if the UART is set to half duplex. In most cases just leave this OFF. This still needs to be added to the configuration. Currently it is enabled through the CLI."),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"set esc_sensor_halfduplex = ON")," "),(0,n.kt)("h3",{id:"set-the-protocol"},"Set the Protocol"),(0,n.kt)("p",null,"This still needs to be added to the configuration. Currently it is enabled through the CLI."),(0,n.kt)("p",null,"Please enter the protocol you wish to use from the following commands:  "),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"set esc_sensor_protocol = NONE"),"  "),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"set esc_sensor_protocol = BLHELI32"),"  "),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"set esc_sensor_protocol = HOBBYWINGV4"),"  "),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"set esc_sensor_protocol = HOBBYWINGV5")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"set esc_sensor_protocol = KONTRONIK")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"set esc_sensor_protocol = SCORPION"),"  "),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"set esc_sensor_protocol = OMPHOBBY")," "),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"set esc_sensor_protocol = ZTW")," "),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"set esc_sensor_protocol = APD")," ")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"For Hobbywing V4"),"\nAdditional parameters are provided for the voltage and current gains, and zero offsets."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"set esc_sensor_hw4_voltage_gain = 0")," "),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"set esc_sensor_hw4_current_gain = 0")," "),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"set esc_sensor_hw4_current_offset = 0"),"  ")),(0,n.kt)("p",null,"Setting these parameters to zero will enable the Auto-Calculation within the firmware.\nIf you wish to fine tune the voltage and current you can use the below values as a starting point."),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Model"),(0,n.kt)("th",{parentName:"tr",align:"right"},"Voltage gain"),(0,n.kt)("th",{parentName:"tr",align:"right"},"Current gain"),(0,n.kt)("th",{parentName:"tr",align:"right"},"Current offset"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Platinum LV 60A"),(0,n.kt)("td",{parentName:"tr",align:"right"},"109"),(0,n.kt)("td",{parentName:"tr",align:"right"},"0"),(0,n.kt)("td",{parentName:"tr",align:"right"},"0")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Platinum LV 80A"),(0,n.kt)("td",{parentName:"tr",align:"right"},"109"),(0,n.kt)("td",{parentName:"tr",align:"right"},"146"),(0,n.kt)("td",{parentName:"tr",align:"right"},"409")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Platinum LV 120A"),(0,n.kt)("td",{parentName:"tr",align:"right"},"109"),(0,n.kt)("td",{parentName:"tr",align:"right"},"110"),(0,n.kt)("td",{parentName:"tr",align:"right"},"377")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Platinum HV 130A"),(0,n.kt)("td",{parentName:"tr",align:"right"},"210"),(0,n.kt)("td",{parentName:"tr",align:"right"},"157"),(0,n.kt)("td",{parentName:"tr",align:"right"},"0")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Platinum HV 200A"),(0,n.kt)("td",{parentName:"tr",align:"right"},"210"),(0,n.kt)("td",{parentName:"tr",align:"right"},"157"),(0,n.kt)("td",{parentName:"tr",align:"right"},"477")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"FlyFun HV 160A"),(0,n.kt)("td",{parentName:"tr",align:"right"},"210"),(0,n.kt)("td",{parentName:"tr",align:"right"},"66"),(0,n.kt)("td",{parentName:"tr",align:"right"},"381")))),(0,n.kt)("h3",{id:"power-config"},"Power Config"),(0,n.kt)("p",null,"Enable the Voltage and Current from the ESC Sensor"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"ESC Telemetry",src:r(35408).Z,width:"1177",height:"300"})))}d.isMDXComponent=!0},48759:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/esc-telem-1-5dcfad44c9144abe4bc3d17e186a00fe.png"},21476:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/esc-telem-2-41e707e5e071ee348f59fd771faa99df.png"},35408:(e,t,r)=>{r.d(t,{Z:()=>a});const a=r.p+"assets/images/esc-telem-3-eab1c19b842da1740b209cf79763623a.png"}}]);