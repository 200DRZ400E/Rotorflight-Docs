"use strict";(self.webpackChunkrotorflight_docs=self.webpackChunkrotorflight_docs||[]).push([[9837],{3905:(e,t,n)=>{n.d(t,{Zo:()=>T,kt:()=>A});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.createContext({}),u=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},T=function(e){var t=u(e.components);return a.createElement(l.Provider,{value:t},e.children)},c="mdxType",_={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,T=s(e,["components","mdxType","originalType","parentName"]),c=u(n),p=i,A=c["".concat(l,".").concat(p)]||c[p]||_[p]||r;return n?a.createElement(A,o(o({ref:t},T),{},{components:n})):a.createElement(A,o({ref:t},T))}));function A(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=p;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[c]="string"==typeof e?e:i,o[1]=s;for(var u=2;u<r;u++)o[u]=n[u];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},43706:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>_,frontMatter:()=>r,metadata:()=>s,toc:()=>u});var a=n(87462),i=(n(67294),n(3905));const r={sidebar_position:155},o="Adjustments",s={unversionedId:"Tutorial-Setup/Adjustments",id:"Tutorial-Setup/Adjustments",title:"Adjustments",description:"There are total 32 adjustment slots, each assigning an AUX channel to a configuration parameter or a special function. An adjustment slot consist of an enabling condition, an adjustment function, and parameter limits.",source:"@site/docs/Tutorial-Setup/Adjustments.md",sourceDirName:"Tutorial-Setup",slug:"/Tutorial-Setup/Adjustments",permalink:"/docs/Tutorial-Setup/Adjustments",draft:!1,editUrl:"https://github.com/pkaig/Rotorflight-Docs/tree/main/docs/Tutorial-Setup/Adjustments.md",tags:[],version:"current",sidebarPosition:155,frontMatter:{sidebar_position:155},sidebar:"tutorialSidebar",previous:{title:"Profiles",permalink:"/docs/Tutorial-Setup/Profiles"},next:{title:"LUA Scripts",permalink:"/docs/Tutorial-Setup/LUA-Scripts"}},l={},u=[{value:"Example - Select a Profile In-Flight",id:"example---select-a-profile-in-flight",level:2},{value:"Simple example",id:"simple-example",level:3},{value:"Adjustment Types",id:"adjustment-types",level:2},{value:"Step Adjustment",id:"step-adjustment",level:3},{value:"Continuous Adjustment",id:"continuous-adjustment",level:3},{value:"Adjustment Functions",id:"adjustment-functions",level:2},{value:"Parameter Change Functions",id:"parameter-change-functions",level:3},{value:"Profile Change Functions",id:"profile-change-functions",level:3}],T={toc:u},c="wrapper";function _(e){let{components:t,...r}=e;return(0,i.kt)(c,(0,a.Z)({},T,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"adjustments"},"Adjustments"),(0,i.kt)("p",null,"There are total 32 adjustment slots, each assigning an AUX channel to a configuration parameter or a special function. An adjustment slot consist of an enabling condition, an adjustment function, and parameter limits."),(0,i.kt)("p",null,"The enabling condition is an AUX channel, which must be within the configured range for the slot to be active. Once active, a control AUX channel will cause a parameter value adjustment, based on the selected adjustment function."),(0,i.kt)("p",null,"Any changes are taking effect immediately, and are saved in the configuration."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Adjustments",src:n(8139).Z,width:"953",height:"697"})),(0,i.kt)("h2",{id:"example---select-a-profile-in-flight"},"Example - Select a Profile In-Flight"),(0,i.kt)("p",null,"Being able to switch between profiles in-flight allows you to use different headspeeds with differently tuned PIDs. It can also help with PID tuning, since it makes A/B testing possible with the flick of a switch."),(0,i.kt)("h3",{id:"simple-example"},"Simple example"),(0,i.kt)("p",null,"Here we use only one channel -AUX4- for ",(0,i.kt)("em",{parentName:"p"},"PID")," and ",(0,i.kt)("em",{parentName:"p"},"Rates")," Profiles Selection. Assign AUX4 to a 3-position switch on the TX, so that the switch outputs 1000/1500/2000us. ",(0,i.kt)("a",{parentName:"p",href:"/docs/Tutorial-Walkthroughs/Profile-switching-example"},"Profile Switching Example"),"."),(0,i.kt)("h2",{id:"adjustment-types"},"Adjustment Types"),(0,i.kt)("p",null,"There are two ways the how the control AUX channel is affecting the configuration parameter."),(0,i.kt)("h3",{id:"step-adjustment"},"Step Adjustment"),(0,i.kt)("p",null,"The control AUX channel can be a three position switch or a trim switch on the transmitter. While in up position, it will cause the adjustment to increase by step size, and vice versa. The min and max limits are adhered."),(0,i.kt)("p",null,"Step adjustment is enabled by setting the step size to non-zero value."),(0,i.kt)("h3",{id:"continuous-adjustment"},"Continuous Adjustment"),(0,i.kt)("p",null,"The control AUX channel is a full resolution RC channel, and is controlling the configuration parameter directly. The RC channel range 1000us..2000us is stretched to cover the parameter range min..max."),(0,i.kt)("p",null,"Continuous adjustment is enabled by setting the step size to zero."),(0,i.kt)("h2",{id:"adjustment-functions"},"Adjustment Functions"),(0,i.kt)("p",null,"The adjustment function assigns the control AUX channel to a configuration parameter or a special function. The supported functions are listed below."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"// Profile change\nADJUSTMENT_RATE_PROFILE             = 1,\nADJUSTMENT_PID_PROFILE              = 2,\nADJUSTMENT_LED_PROFILE              = 3,\nADJUSTMENT_OSD_PROFILE              = 4,\n\n// Rates\nADJUSTMENT_PITCH_RATE               = 5,\nADJUSTMENT_ROLL_RATE                = 6,\nADJUSTMENT_YAW_RATE                 = 7,\nADJUSTMENT_PITCH_RC_RATE            = 8,\nADJUSTMENT_ROLL_RC_RATE             = 9,\nADJUSTMENT_YAW_RC_RATE              = 10,\nADJUSTMENT_PITCH_RC_EXPO            = 11,\nADJUSTMENT_ROLL_RC_EXPO             = 12,\nADJUSTMENT_YAW_RC_EXPO              = 13,\n\n// PID\nADJUSTMENT_PITCH_P_GAIN             = 14,\nADJUSTMENT_PITCH_I_GAIN             = 15,\nADJUSTMENT_PITCH_D_GAIN             = 16,\nADJUSTMENT_PITCH_F_GAIN             = 17,\nADJUSTMENT_ROLL_P_GAIN              = 18,\nADJUSTMENT_ROLL_I_GAIN              = 19,\nADJUSTMENT_ROLL_D_GAIN              = 20,\nADJUSTMENT_ROLL_F_GAIN              = 21,\nADJUSTMENT_YAW_P_GAIN               = 22,\nADJUSTMENT_YAW_I_GAIN               = 23,\nADJUSTMENT_YAW_D_GAIN               = 24,\nADJUSTMENT_YAW_F_GAIN               = 25,\n\nADJUSTMENT_YAW_CW_GAIN              = 26,\nADJUSTMENT_YAW_CCW_GAIN             = 27,\nADJUSTMENT_YAW_CYCLIC_FF            = 28,\nADJUSTMENT_YAW_COLLECTIVE_FF        = 29,\nADJUSTMENT_YAW_COLLECTIVE_DYN       = 30,\nADJUSTMENT_YAW_COLLECTIVE_DECAY     = 31,\nADJUSTMENT_PITCH_COLLECTIVE_FF      = 32,\n\n// Gyro cutoffs\nADJUSTMENT_PITCH_GYRO_CUTOFF        = 33,\nADJUSTMENT_ROLL_GYRO_CUTOFF         = 34,\nADJUSTMENT_YAW_GYRO_CUTOFF          = 35,\n\n// Dterm cutoffs\nADJUSTMENT_PITCH_DTERM_CUTOFF       = 36,\nADJUSTMENT_ROLL_DTERM_CUTOFF        = 37,\nADJUSTMENT_YAW_DTERM_CUTOFF         = 38,\n\n// Rescue\nADJUSTMENT_RESCUE_CLIMB_COLLECTIVE  = 39,\nADJUSTMENT_RESCUE_HOVER_COLLECTIVE  = 40,\nADJUSTMENT_RESCUE_HOVER_ALTITUDE    = 41,\nADJUSTMENT_RESCUE_ALT_P_GAIN        = 42,\nADJUSTMENT_RESCUE_ALT_I_GAIN        = 43,\nADJUSTMENT_RESCUE_ALT_D_GAIN        = 44,\n\n// Leveling\nADJUSTMENT_ANGLE_LEVEL_GAIN         = 45,\nADJUSTMENT_HORIZON_LEVEL_GAIN       = 46,\nADJUSTMENT_ACRO_TRAINER_GAIN        = 47,\n\n// Governor\nADJUSTMENT_GOV_GAIN                 = 48,\nADJUSTMENT_GOV_P_GAIN               = 49,\nADJUSTMENT_GOV_I_GAIN               = 50,\nADJUSTMENT_GOV_D_GAIN               = 51,\nADJUSTMENT_GOV_F_GAIN               = 52,\nADJUSTMENT_GOV_TTA_GAIN             = 53,\nADJUSTMENT_GOV_CYCLIC_FF            = 54,\nADJUSTMENT_GOV_COLLECTIVE_FF        = 55,\n\n// Boost gains\nADJUSTMENT_PITCH_B_GAIN             = 56,\nADJUSTMENT_ROLL_B_GAIN              = 57,\nADJUSTMENT_YAW_B_GAIN               = 58,\n\n// Offset gains\nADJUSTMENT_PITCH_O_GAIN             = 59,\nADJUSTMENT_ROLL_O_GAIN              = 60,\n\n// Cross-coupling\nADJUSTMENT_CROSS_COUPLING_GAIN      = 61,\nADJUSTMENT_CROSS_COUPLING_RATIO     = 62,\nADJUSTMENT_CROSS_COUPLING_CUTOFF    = 63,\n")),(0,i.kt)("h3",{id:"parameter-change-functions"},"Parameter Change Functions"),(0,i.kt)("p",null,"The parameter change functions are adjusting the associated configuration parameters, taking effect immediately. This allows changing the fundamental tuning parameter inflight."),(0,i.kt)("p",null,"Each parameter has a min and max limit that the user can set to safeguard against unreasonable or unsafe values. In addition, the system has absolute limits for each parameter."),(0,i.kt)("h3",{id:"profile-change-functions"},"Profile Change Functions"),(0,i.kt)("p",null,"The special functions to change configuration profiles works exactly the same as the parameter functions, except that the possible values are limited to the number of profiles. Both step and continuous adjustments can be used."),(0,i.kt)("p",null,"For example, there are six Rate Profiles available, thus the parameter limits should be min = 0 and max = 5. Narrower range is also possible, if so desired."))}_.isMDXComponent=!0},8139:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/adjustments-main-b5ac78a9c4650fd2f15adb375156e928.png"}}]);